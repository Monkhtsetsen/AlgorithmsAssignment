flask ‚Üí Python-–∏–π–Ω –≤—ç–± —Ñ—Ä—ç–π–º–≤–æ—Ä–∫ (–≤—ç–± –∞–ø–ø —Ö–∏–π—Ö—ç–¥ —Ö—ç—Ä—ç–≥–ª—ç–¥—ç–≥).

Flask ‚Üí –í—ç–± —Å–µ—Ä–≤–µ—Ä “Ø“Ø—Å–≥—ç—Ö “Ø–Ω–¥—Å—ç–Ω –∫–ª–∞—Å—Å.

render_template ‚Üí HTML —Ñ–∞–π–ª—É—É–¥—ã–≥ (templates/ –¥–æ—Ç–æ—Ä –±–∞–π—Ä–ª–∞—Ö) —Å–µ—Ä–≤–µ—Ä—ç—ç—Å –≥–∞—Ä–≥–∞—Ö —Ñ—É–Ω–∫—Ü.

request ‚Üí –ö–ª–∏–µ–Ω—Ç—ç—ç—Å –∏—Ä—Å—ç–Ω —Ö“Ø—Å—ç–ª—Ç (HTTP request)-–∏–π–≥ —Ö“Ø–ª—ç—ç–∂ –∞–≤–∞—Ö –æ–±—ä–µ–∫—Ç.
–ñ–∏—à—ç—ç –Ω—å, POST —Ö“Ø—Å—ç–ª—Ç—ç—ç—Ä –∏—Ä—Å—ç–Ω JSON ”©–≥”©–≥–¥–ª–∏–π–≥ request.get_json() –≥—ç–∂ —É–Ω—à–¥–∞–≥.

jsonify ‚Üí Python dictionary-–≥ JSON —Ñ–æ—Ä–º–∞—Ç —Ä—É—É —Ö—É–≤–∏—Ä–≥–∞–∂ —Ö–∞—Ä–∏—É –∏–ª–≥—ç—ç–¥—ç–≥ —Ñ—É–Ω–∫—Ü.
from flask_cors import CORS

    CORS (Cross-Origin Resource Sharing) ‚Üí ”®”©—Ä –≥–∞—Ä–∞–ª—Ç–∞–π (domain) –≤—ç–±—ç—ç—Å —Ö“Ø—Å—ç–ª—Ç –∏–ª–≥—ç—ç—Ö–∏–π–≥ –∑”©–≤—à”©”©—Ä–¥”©–≥ —Ç–æ—Ö–∏—Ä–≥–æ–æ.
    –ñ–∏—à—ç—ç –Ω—å, frontend –Ω—å localhost:3000, backend –Ω—å localhost:5000 –±–∞–π–≤–∞–ª CORS —Ö—ç—Ä—ç–≥—Ç—ç–π.
    ‚Üí CORS(app) –≥—ç–∂ –∏–¥—ç–≤—Ö–∂“Ø“Ø–ª–¥—ç–≥.
    import geopandas as gpd

    GeoPandas ‚Üí –ì–∞–∑—Ä—ã–Ω –∑—É—Ä–∞–≥, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç, —à–µ–π–ø—Ñ–∞–π–ª –∑—ç—Ä—ç–≥ –≥–µ–æ ”©–≥”©–≥–¥–ª–∏–π–≥ —É–Ω—à–∏–∂ –±–æ–ª–æ–≤—Å—Ä—É—É–ª–∞—Ö Python —Å–∞–Ω.
    –ñ–∏—à—ç—ç –Ω—å: gpd.read_file("map.shp") ‚Üí shapefile —Ñ–∞–π–ª —É–Ω—à–∏–Ω–∞.

from shapely.geometry import LineString

    Shapely ‚Üí –ì–µ–æ–º–µ—Ç—Ä–∏–π–Ω —Ö—ç–ª–±—ç—Ä“Ø“Ø–¥—Ç—ç–π –∞–∂–∏–ª–ª–∞–¥–∞–≥ —Å–∞–Ω (—à—É–ª—É—É–Ω, —Ü—ç–≥, –æ–ª–æ–Ω ”©–Ω—Ü”©–≥ –≥—ç—Ö –º—ç—Ç).
    LineString ‚Üí –ó–∞–º—ã–Ω —à—É–≥–∞–º —Ö—ç–ª–±—ç—Ä–∏–π–≥ –∏–ª—ç—Ä—Ö–∏–π–ª–Ω—ç (–∑–∞–º—ã–Ω —à—É–≥–∞–º–∞–Ω –≥–µ–æ–º–µ—Ç—Ä–∏–π–≥ —Ö–∞–¥–≥–∞–ª–∞—Ö –∑–æ—Ä–∏—É–ª–∞–ª—Ç—Ç–∞–π).

import math, heapq, time

    math ‚Üí –ú–∞—Ç–µ–º–∞—Ç–∏–∫ —Ñ—É–Ω–∫—Ü—É—É–¥ (–∂–∏—à—ç—ç –Ω—å sin, cos, radians, sqrt).

    heapq ‚Üí Priority queue –±—É—é—É ‚Äú—Ö–∞–º–≥–∏–π–Ω –±–∞–≥–∞ “Ø–Ω—ç —Ü—ç–Ω—Ç—ç–π —ç–ª–µ–º–µ–Ω—Ç–∏–π–≥ —Ç“Ø—Ä“Ø“Ø–ª–∂ –≥–∞—Ä–≥–∞–¥–∞–≥‚Äù –∂–∞–≥—Å–∞–∞–ª—Ç.
    ‚Üí Dijkstra –∞–ª–≥–æ—Ä–∏—Ç–º–¥ —Ö—ç—Ä—ç–≥–ª—ç–≥–¥–¥—ç–≥.

    time ‚Üí –¶–∞–≥ —Ö—ç–º–∂–∏—Ö, –≥“Ø–π—Ü—ç—Ç–≥—ç–ª–∏–π–Ω —Ö—É–≥–∞—Ü–∞–∞–≥ —à–∞–ª–≥–∞—Ö (time.time()) –≥—ç—Ö –º—ç—Ç.

from collections import deque

    deque (double-ended queue) ‚Üí Queue –±“Ø—Ç—ç—Ü—Ç—ç–π –∏–∂–∏–ª –±–æ–ª–æ–≤—á —Ö–æ—ë—Ä —Ç–∞–ª–∞–∞—Å –Ω—å —ç–ª–µ–º–µ–Ω—Ç –Ω—ç–º—ç—Ö, —É—Å—Ç–≥–∞—Ö –±–æ–ª–æ–º–∂—Ç–æ–π ”©–≥”©–≥–¥–ª–∏–π–Ω –±“Ø—Ç—ç—Ü.
    ‚Üí BFS (”©—Ä–≥”©–Ω”©”©—Ä —Ö–∞–π—Ö) –∞–ª–≥–æ—Ä–∏—Ç–º–¥ –∞—à–∏–≥–ª–∞–¥–∞–≥.

üß† 2. Flask “Ø–Ω–¥—Å—ç–Ω —Ç–æ—Ö–∏—Ä–≥–æ–æ

app = Flask(__name__)

    Flask-–∏–π–Ω –∞–ø–ø–ª–∏–∫–µ–π—à–Ω “Ø“Ø—Å–≥—ç–∂ –±–∞–π–≥–∞–∞ –º”©—Ä.

    __name__ ‚Üí Python-–∏–π–Ω —Ç—É—Å–≥–∞–π —Ö—É–≤—å—Å–∞–≥—á –±”©–≥”©”©–¥ —ç–Ω—ç –∫–æ–¥—ã–≥ —Ö–∞–∞–Ω–∞–∞—Å –∞–∂–∏–ª–ª—É—É–ª–∂ –±–∞–π–≥–∞–∞–≥ –∑–∞–∞–¥–∞–≥.
    Flask “Ø“Ø–Ω–∏–π–≥ –∞—à–∏–≥–ª–∞–Ω HTML —Ñ–∞–π–ª—É—É–¥ –±–æ–ª–æ–Ω static asset-—É—É–¥—ã–Ω –±–∞–π—Ä—à–ª—ã–≥ —Ç–æ–¥–æ—Ä—Ö–æ–π–ª–¥–æ–≥.

CORS(app)

    –≠–Ω—ç –Ω—å CORS-–∏–π–≥ –∏–¥—ç–≤—Ö–∂“Ø“Ø–ª–∂ –±–∞–π–≥–∞–∞ —Ö—ç—Å—ç–≥.
    ‚Üí –ò–Ω–≥—ç—Å–Ω—ç—ç—Ä –≤—ç–± –∫–ª–∏–µ–Ω—Ç (–∂–∏—à—ç—ç –Ω—å JavaScript app) —Å–µ—Ä–≤–µ—Ä —Ä“Ø“Ø —Ö“Ø—Å—ç–ª—Ç –∏–ª–≥—ç—ç—Ö—ç–¥ CORS error –≥–∞—Ä–∞—Ö–≥“Ø–π.

flask-web server uusgeh
cors-font end ees huselt ilgeehiig zuvshuurdug
geopandas shapely-gazriin zurgiin GIS fileuud geometr ugugdul unshdag
math, heapq, time, deque-algorithmd hereglegdeh tootsoolol, ugugdliin butets
graph buteej zamiin ugugdliig unshij node bolon edge uusgene
class GraphBuilder:
    def __init__(self):
        self.nodes = {} node_id (latitude, longitude) urgurug, urtraga
        self.adjacency = {} node_id (neighbour_id, distance)
        self.node_count = 0

  haversine - gazriin hoyr tsegiin hoorondoh zaig metreer tootsno
  zamiin coordinataas node hoorondiin weight tootsoh
  add_node() ba add_edge()
  shine zangilaa bolon holbolt uusgene
  load_osm_data()
  .shp file aas ugugdliig unshij graph bolgono
  fclass baganad undeslen zuvhun mashin yavah bolomjtoi zamiig songono
  coordinatiig node bolgon huvirgah
  haversine ashiglan zaig tootsood adjacency list d hadgalna
  find-nearest node()
  ugugdsun coordinatad hamgiin oir node iig olno
  isconnected()
  hoyr node hoorond holbolt baigaa esehiig shalgana DFS ashiglan
  SearchAlgorithms class
  zam haih algorithmuudiig heregjuuldeg
  Dijkstra's algorithm
  hamgiin bogino zam oloh algorithm priority queue heapq ashiglan baga zamiig urgelj oldog
  butsaadag zuils path distance t node_visited
  BFS breadth first search urgunuur haih algorithm hamgiin oiriin zamiig hurdan oldog
  gehdee jintei algorithm deer tudiilen bish
  DFS depth first search zarimdaa zamiig turshij uzdeg tul udaan ajillaj magadgucodend DFS recursive timeout